(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{6404:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trabaja-con-nosotros",function(){return n(2636)}])},2636:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(5893),r=n(8160),o=n(7294),s=n(2175),i=n(3207),c=n(4547),l=n(5233),u=n(2788),d=n(9321),m=n(7568),p=n(4051),h=n.n(p),x="".concat("".concat("https://7mxapon4sb.execute-api.us-east-1.amazonaws.com"));function f(){return(f=(0,m.Z)(h().mark((function e(t){var n,a,r,o,s,i,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.cv,r=t.position,o=t.other_position,s=t.email,i=t.consult,(c=new FormData).append("attachment",a),c.append("name",n),c.append("mail",s),c.append("position","".concat(r," - ").concat(o)),c.append("token",null!==(l="956e17ddd629fdfe76508d116f1be51f99d9d26b5da92d61267366284c18159a")?l:""),""!==i&&c.append("request",i),e.abrupt("return",fetch("".concat(x,"/sendMailWithAttachments"),{method:"POST",body:c,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(!e.ok)throw new Error("Response is NOT ok");return!0})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(1163);function j(e){var t;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t=l.C$.validations.emailInvalid):t=l.C$.validations.emailRequired,t}function N(e){var t;return e||(t=l.C$.validations.nameRequired),t}function g(e){var t;return""===e&&(t=l.C$.validations.cvRequired),e&&e.size>1e6&&(t="El tama\xf1o del archivo es muy grande. M\xe1ximo 1MB."),t}function b(e){var t;return e||(t=l.C$.validations.positionRequired),t}function C(e){var t;return e||(t=l.C$.validations.otherPositionRequired),t}var w={name:"",cv:"",position:"",email:"",consult:"",other_position:""};function _(){var e=(0,o.useContext)(c.ZP).setNotification,t=(0,v.useRouter)(),n=(0,d.Q)(u.Iy).handlePreClickAction;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.J9,{initialValues:w,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(a){return e(l.br),function(e){return f.apply(this,arguments)}(a).then((function(){return e(l.MR),n({status:"success"}),new Promise((function(e){return setTimeout(e,3e3)}))})).then((function(){t.push("/")})).catch((function(t){e(l.ES),n({status:"fail",error:t}),console.log(t)}))},children:function(e){var t=e.errors,n=e.isSubmitting,r=e.touched,o=e.setFieldValue,c=e.values;return(0,a.jsxs)(s.l0,{className:"form space-y-3 lg:w-1/3 bg-white rounded-2xl p-8",children:[(0,a.jsx)("div",{className:"text-center text-2xl font-medium",children:l.C$.title}),(0,a.jsx)(i.Z,{text:(0,a.jsx)(s.gN,{className:t.name?"error":"placeholder:text-sm",name:"name",validate:N}),error:t.name&&r.name&&(0,a.jsx)("small",{className:"form-error",children:t.name}),placeholder:"".concat(l.C$.name," * ")}),(0,a.jsx)(i.Z,{text:(0,a.jsx)(s.gN,{className:t.email?"error":"placeholder:text-sm",name:"email",type:"text",validate:j}),error:t.email&&r.email&&(0,a.jsx)("small",{className:"form-error",children:t.email}),placeholder:"".concat(l.C$.email," * ")}),(0,a.jsx)(i.Z,{text:(0,a.jsxs)(s.gN,{as:"select",name:"position",value:c.position,className:t.position?"error":"w-full placeholder:text-sm focus-visible:outline-none focus:outline-none",validate:b,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Elige una opci\xf3n"}),(0,a.jsx)("option",{value:"ventas",children:"Ventas"}),(0,a.jsx)("option",{value:"admin",children:"Administraci\xf3n"}),(0,a.jsx)("option",{value:"otros",children:"Otros"})]}),error:t.position&&r.position&&(0,a.jsx)("small",{className:"form-error",children:t.position}),placeholder:"".concat(l.C$.position," * ")}),"otros"===c.position&&(0,a.jsx)(i.Z,{text:(0,a.jsx)(s.gN,{className:t.other_position?"error":"placeholder:text-sm",name:"other_position",validate:C}),error:t.other_position&&r.other_position&&(0,a.jsx)("small",{className:"form-error",children:t.validateOtherPosition}),placeholder:"".concat(l.C$.other_position," * ")}),(0,a.jsx)(i.Z,{text:(0,a.jsx)(s.gN,{as:"input",type:"file",name:"cv",accept:".pdf",value:void 0,onChange:function(e){e.currentTarget.files&&o("cv",e.currentTarget.files[0])},validate:g}),error:t.cv&&r.cv&&(0,a.jsx)("small",{className:"form-error",children:t.cv}),placeholder:"".concat(l.C$.cv," * ")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-top ",children:(0,a.jsx)(s.gN,{className:t.consult?"error text-lg":"text-lg placeholder:text-sm",name:"consult",placeholder:"".concat(l.C$.consult,"  "),type:"text",as:"textarea",rows:"4"})}),t.consult&&r.consult&&(0,a.jsx)("small",{className:"form-error",children:t.consult})]}),(0,a.jsx)("button",{type:"submit",className:"button-primary w-full ".concat(n&&"opacity-50 cursor-not-allowed"," "),disabled:n,children:l.C$.send})]})}})})}var $=function(){return(0,a.jsx)("div",{className:"bg-search-img bg-no-repeat bg-cover bg-center h-screen",children:(0,a.jsx)("div",{className:"container-general",children:(0,a.jsx)("section",{className:"w-full flex items-center justify-center ",children:(0,a.jsx)(_,{})})})})};function y(){return(0,a.jsx)(r.Z,{content:(0,a.jsx)($,{}),title:"Trabaja con nosotros"})}},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[228,16,440,445,13,806,708,757,160,774,888,179],(function(){return t=6404,e(e.s=t);var t}));var t=e.O();_N_E=t}]);