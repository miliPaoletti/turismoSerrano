(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(3932)}])},3932:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var s=t(5893),a=t(7294),r=t(7568),c=t(4051),l=t.n(c),i=t(6257),o=t(4068),u=t(5318),d=t(6814),f=t(2906),p=function(){var e=(0,r.Z)(l().mark((function e(){var n,t,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Gx)();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),window.location.href="/500";case 8:return n=(0,i.IO)((0,o.JC)(o.EW)),e.next=11,(0,i.zN)(n);case 11:return t=e.sent,s=t.docs.map((function(e){return e.data()})),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(l().mark((function e(n,t){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,d.U)().database,e.next=3,(0,i.r7)((0,i.JU)(s,"destinations",n),{visibility:t});case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(l().mark((function e(){var n,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Gx)();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),window.location.href="/500";case 8:return n=(0,i.IO)((0,o.JC)(o.HC)),e.next=11,(0,i.zN)(n);case 11:return t=e.sent,e.abrupt("return",(0,f.hM)(t));case 13:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){var n=e.setIsLogged,t=(0,a.useState)(""),r=t[0],c=t[1],l=(0,a.useState)(""),i=l[0],o=l[1],u=(0,a.useState)({username:"",password:""}),d=u[0],f=u[1],x=(0,a.useState)(!1),h=x[0],v=x[1],m=(0,a.useCallback)((function(e){c(e.target.value),v(!1)}),[]),b=(0,a.useCallback)((function(e){o(e.target.value),v(!1)}),[]);(0,a.useEffect)((function(){p().then((function(e){f(e[0])}))}),[]);var j=(0,a.useCallback)((function(){d.username===r&&d.password===i?n(!0):v(!0)}),[i,r,n,d]);return(0,s.jsxs)("div",{className:"flex items-center justify-center h-screen text-white bg-gray-950 flex-col",children:[(0,s.jsx)("p",{className:"text-xl",children:"Bienvenido al panel de admin"}),(0,s.jsxs)("div",{className:"space-y-5 mt-5 text-black-900",children:[(0,s.jsx)("input",{value:r,placeholder:"usuario",onChange:m}),(0,s.jsx)("input",{type:"password",value:i,placeholder:"constrase\xf1a",onChange:b}),(0,s.jsx)("button",{type:"button",className:"bg-orange-950 w-full py-3 rounded text-white",onClick:j,children:"Ingresar"}),h&&(0,s.jsx)("p",{className:"text-black-950 font-bold text-sm",children:"Usuario o constrase\xf1a incorrectos. Si no te acordas, preguntale a Lucho"})]})]})},m=function(e){var n,t,r,c,l,i,o=e.item,u=(0,a.useState)((null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.visibility)||!1),d=u[0],f=u[1],p=(0,a.useCallback)((function(e){f(e.target.checked),x(o.id,e.target.checked)}),[o.id]);return(0,s.jsxs)("div",{className:"border border-orange-950 flex flex-col p-5 m-h-24",children:[(0,s.jsxs)("p",{className:"font-bold text-lg",children:["Destino: ",(0,s.jsx)("span",{className:"font-normal",children:null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.title})]}),(0,s.jsxs)("p",{className:"font-bold text-lg",children:["Salidas:"," ",(0,s.jsx)("span",{className:"font-normal",children:null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.departures.map((function(e){return(0,s.jsxs)("span",{children:[e," - "]},e)}))})]}),(0,s.jsxs)("p",{className:"font-bold text-lg",children:["Precio:"," ",(0,s.jsxs)("span",{className:"font-normal",children:[null===o||void 0===o||null===(c=o.data)||void 0===c?void 0:c.lowest_price.price," ",null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.lowest_price.currency]})]}),(0,s.jsxs)("p",{className:"font-bold text-lg",children:["ID: ",(0,s.jsx)("span",{className:"font-normal",children:null===o||void 0===o||null===(i=o.id)||void 0===i?void 0:i.slice(0,8)})]}),(0,s.jsxs)("div",{className:"flex items-center font-bold",children:[(0,s.jsx)("label",{children:"Mostrar"}),(0,s.jsx)("input",{type:"checkbox",className:"w-fit ml-5",checked:d,onChange:p})]})]})},b=function(){var e=(0,a.useState)([]),n=e[0],t=e[1];(0,a.useEffect)((function(){h().then((function(e){t(e)}))}),[]);var r=(0,a.useCallback)((function(){return n.map((function(e){return(0,s.jsx)(m,{item:e},e.id)}))}),[n]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"my-10 text-center",children:["Estos son todos los destinos. Si el"," ",(0,s.jsx)("span",{className:"font-bold",children:"check"})," de"," ",(0,s.jsx)("span",{className:"font-bold",children:"Mostrar"})," esta marcado el destino se muestra, sino no."]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-5 px-3",children:r()})]})},j=function(){var e=(0,a.useState)(!1),n=e[0],t=e[1];return(0,s.jsxs)(s.Fragment,{children:[!n&&(0,s.jsx)(v,{setIsLogged:t}),n&&(0,s.jsx)(b,{})]})}}},function(e){e.O(0,[228,13,16,866,440,399,906,774,888,179],(function(){return n=4730,e(e.s=n);var n}));var n=e.O();_N_E=n}]);